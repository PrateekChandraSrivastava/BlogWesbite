<%- include("partials/header.ejs") %>

    <main class="container">

        <div class="row g-5">
            <div class="col-md-8">
                <h3 class="pb-4 mb-4 fst-italic border-bottom">
                    Latest Blogs
                </h3>

                <% if (posts && posts.length> 0) { %>
                    <% posts.forEach((post, index)=> { %>
                        <a href="/view/<%= index %>" class="blogheada">
                            <article class="blog-post">
                                <h2 class="display-5 link-body-emphasis mb-1">
                                    <%= post.title %>
                                </h2>
                                <p class="blog-post-meta">
                                    <%= post.date %>
                                </p>
                                <p>
                                    <%= post.content %>
                                </p>
                                <hr>
                            </article>
                        </a>
                        <% }) %>
                            <% } else { %>
                                <p>No blogs available</p>
                                <% } %>

            </div>

            <div class="col-md-4">
                <div class="position-sticky" style="top: 2rem;">
                    <div class="p-4 mb-3 bg-body-tertiary rounded">
                        <h4 class="fst-italic">About</h4>
                        <p class="mb-0">Customize this section to tell your visitors a little bit about your
                            publication, writers, content, or something else entirely. Totally up to you.</p>
                    </div>

                    <div>
                        <h4 class="fst-italic">Recent posts</h4>
                        <ul class="list-unstyled">
                            <% posts.forEach((post, index)=> { %>

                                <li>
                                    <a class="d-flex flex-column flex-lg-row gap-3 align-items-start align-items-lg-center py-3 link-body-emphasis text-decoration-none border-top"
                                        href="/view/<%= index %>">
                                        <div class="col-lg-8">
                                            <h6 class="mb-0">
                                                <%= post.title %>
                                            </h6>
                                            <small class="text-body-secondary">
                                                <%= post.date %>
                                            </small>
                                        </div>
                                    </a>
                                </li>
                                <% }) %> 
                        </ul>
                    </div>


                </div>
            </div>
        </div>

    </main>

    <%- include("partials/footer.ejs") %>